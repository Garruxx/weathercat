(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();const C={message:null,deniedButton:"Cancelar",okButton:"Aceptar",label:""},u=({callback:e,deniedButton:t,label:a,message:o,okButton:n}=C)=>{const s=document.getElementById("alert"),i=document.getElementById("errorMessage"),c=document.getElementById("errorLabel"),r=document.getElementById("okbtn"),l=document.getElementById("deniedbtn");i.textContent=o,a&&(c.textContent=a),r.value=n||"Aceptar",l.value=t||"Cancelar",s.setAttribute("class","visible"),r.onclick=()=>{s.removeAttribute("class"),e&&e(!0)},l.onclick=()=>{s.removeAttribute("class"),e&&e(!1)}},b=e=>{const t=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],a=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],o=g=>g<10?"0"+g:g,n=e.hour>12?e.hour-12:e.hour==0?12:e.hour,s=o(e.minutes),i=o(e.seconds),{week:c,month:r,year:l,day:d}=e,w=`${e.hour}:${s}`,I=`${e.hour}:${s}:${i}`,F=`${n}:${s}:${i}`,A=`${n}:${s}`,E=e.hour>11?"PM":"AM",B=`${t[c]} ${d} de ${a[r]} de ${l}`;return{...e,hhmm:A,hhmmss:F,HHmm:w,HHmmss:I,indicator:E,hour:n,Hour:e.hour,minutes:s,seconds:i,ddmmaaaa:B}},D={"01":"clearSky","02":"partlyCloudy","03":"cloudy","04":"cloudy",10:"littleRain","09":"rain",11:"thunderStrom",13:"littleRain",50:"partlyCloudy"},S=e=>{const t=e.split(/(n|d)/)[0];return D[t]},x=e=>{const t=e?new Date(e):new Date;return{hour:t.getHours(),seconds:t.getSeconds(),minutes:t.getMinutes(),month:t.getMonth(),year:t.getFullYear(),week:t.getDay(),day:t.getDate(),ms:t.getMilliseconds(),time:t.getTime()}},k={timeout:1e3*5,enableHighAccuracy:!0},M=()=>{if(!("geolocation"in navigator))throw u({message:"Tu navegador no es compatible con la geolocalizaci\xF3n"}),new Error("incompatibility");return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(({coords:a})=>{e(a)},t,k)})},y=({currentValue:e,maxValue:t,timeDivider:a,timeFractions:o})=>(e*a+o)/a/t*100/100*360,H=({temp:e,city:t})=>{const a=x(),{ddmmaaaa:o,hhmm:n,indicator:s}=b(a),i=document.getElementById("date-info"),c=document.getElementById("digital-hour"),r=document.getElementById("temp"),l=document.getElementById("city");i.textContent=o,c.textContent=n+s,r.textContent=`${parseInt(e)}\xB0C`,l.textContent=t},L=({axes:e,hours:t,minutes:a})=>{const o=document.getElementById("handHour"),n=y({currentValue:t,maxValue:12,timeDivider:60,timeFractions:a});o==null||o.setAttribute("transform",`rotate(${n} ${e.x} ${e.y})`)},P=({seconds:e,minutes:t,axes:a})=>{const o=document.getElementById("handMinute"),n=y({currentValue:t+1,maxValue:60,timeDivider:60,timeFractions:e});o==null||o.setAttribute("transform",`rotate(${n} ${a.x} ${a.y})`)},j=({seconds:e,ms:t,axes:a})=>{const o=document.getElementById("handSeconds"),n=y({currentValue:e+1,maxValue:60,timeDivider:1e3,timeFractions:t});o==null||o.setAttribute("transform",`rotate(${n} ${a.x} ${a.y})`)},v=e=>document.getElementById(e);v("svg");const T=e=>{const t=x(),a=b(t),o=v("axis"),n=o.getAttribute("cx"),s=o.getAttribute("cy"),i=parseFloat(s),c=parseFloat(n),r={y:i,x:c};j({...t,axes:r}),P({...t,axes:r}),L({...t,hours:a.hour,axes:r}),H(e)},O=async({latitude:e,longitude:t})=>{const r=`https://api.geoapify.com/v1/geocode/reverse?lat=${e}&lon=${t}&lang=es&apiKey=aeeaa161e3a3470586cd27ff965b4b78&type=street&format=json&limit=1`,l=await fetch(r),{results:d}=await l.json();return d[0].city},V=({latitude:e,longitude:t})=>({latitude:e,longitude:t}),N=e=>{const t=d=>new Date(d*1e3),{name:a,weather:o,sys:n,main:s}=e,i=t(n.sunrise),c=t(n.sunset),r=S(o[0].icon);return{city:a,climate:r,sunrise:i,sunset:c,temp:s.temp}},K=async()=>{const t=await(await fetch("https://api.maptiler.com/geolocation/ip.json?key=W9xa7wfVFWSEnH5Wj0ba")).json();return V(t)},f=async(e,t)=>{const s=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=05da9fb21f3f146d383a07f565dbf631&units=metric`,i=await(await fetch(s,{cache:"no-cache"})).json(),c=N(i);return c.city=await O({latitude:e,longitude:t}),c},m=async e=>{const t=localStorage;if(t.getItem("location"))try{const{longitude:a,latitude:o}=await M(),n=await f(o,a);e(n)}catch(a){a.PERMISSION_DENIED?u({message:`
                    Se rechazaron los permisos de ubicaci\xF3n.
                    Puede precionar el candado de su navegador,
                    permitir el acceso a la ubicac\xF3n y volver a intentarlo.
                    `,okButton:"Intentar nuevamente",callback:o=>{o||t.removeItem("location"),m(e)}}):a.POSITION_UNAVAILABLE?u({message:`
                    No se pudo acceder a su ubicaci\xF3n, 
                    confirme que tiene la opci\xF3n GPS (Ubicaci\xF3n) 
                    de su dispositivo encendida y vuelva a intentarlo.
                `,okButton:"Intentar nuevamente",callback:o=>{o&&m(e)}}):a.TIMEOUT?u({message:`
                    Excedi\xF3 el tiempo de espera de los permisos
                    de ubicaci\xF3n.
                `,okButton:"Intentar nuevamente",callback:o=>{o&&m(e)}}):a.message=="incompatibility"||u({message:`
                    Ocurri\xF3 un error desconocido.
                `})}else{const{latitude:a,longitude:o}=await K(),n=await f(a,o);e(n),u({message:`
                Esto es en base a una ubicaci\xF3n aproximada, para obtener 
                informaci\xF3n del clima m\xE1s exacta, por favor permita los 
                sercivios de ubicaci\xF3n
            `,label:"\xBFPermitir ubicaci\xF3n?",callback:s=>{s&&(localStorage.setItem("location","true"),m(e))}})}};let p={city:"Santa Marta",climate:"cloudy",sunrise:new Date,sunset:new Date,temp:"23"};const $=e=>{const t=new Date;document.body.setAttribute("climate",e.climate),t>e.sunrise&&t<e.sunset?document.body.setAttribute("class","day"):document.body.setAttribute("class","night")},h=e=>{p=e,$(e)};$(p);const U=()=>{setInterval(()=>m(h),5*1e3*60),m(h),setInterval(()=>T(p),1)};U();"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(()=>{console.log("Service worker registred")}).catch(console.log);
